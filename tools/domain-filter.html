<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Domain & Port Filter - Bug Bounty Toolkit</title>
  <link rel="stylesheet" href="css/style.css" />
</head>
<body>
  <!-- Navigation -->
  <nav>
    <div class="logo">ğŸ› BugHunter Toolkit</div>
    <ul class="nav-links">
      <li><a href="index.html">Home</a></li>
      <li><a href="uri-manager.html">URI Manager</a></li>
      <li><a href="path-extractor.html">Path Extractor</a></li>
      <li><a href="dork-generator.html">Dork Generator</a></li>
      <li><a href="domain-filter.html">Domain Filters</a></li>
    </ul>
    <div class="nav-actions">
      <button id="themeToggle" class="btn btn-secondary" title="Toggle Dark/Light Mode">
        <span id="themeIcon">ğŸŒ™</span>
      </button>
    </div>
  </nav>

  <!-- Header -->
  <header>
    <div class="container">
      <h1>ğŸ” Filter URL by Active Domain & Port</h1>
      <p style="text-align: center; font-size: 1.1rem; color: var(--text-secondary); max-width: 800px; margin: 0 auto;">
        Paste your URLs and filter by exact active domains (from httpx) and explicit ports.
      </p>
    </div>
  </header>

  <!-- Main Content -->
  <div class="container" style="padding-bottom: 100px;">
    <!-- Main Tool Container -->
    <section class="base-card">
      <h2 class="text-secondary mb-3">ğŸ› ï¸ URL Filter Tool</h2>

      <!-- URLs Input -->
      <div class="input-group">
        <label for="urls">Paste URLs (one per line):</label>
        <textarea id="urls" placeholder="https://digilib.itb.ac.id/gdl/view/86434
http://fa.itb.ac.id:80/focus/
https://akademik.itb.ac.id/app/dosen"></textarea>
      </div>

      <!-- Domains Input (Active Domains from httpx) -->
      <div class="input-group">
        <label for="domains">Active domains (exact match, one per line):</label>
        <textarea id="domains" placeholder="digilib.itb.ac.id
akademik.itb.ac.id
bosscha.itb.ac.id"></textarea>
      </div>

      <!-- Domain Filter Mode -->
      <div class="input-group">
        <label>Domain Filter Mode:</label>
        <div class="radio-group">
          <div class="radio-item">
            <input type="radio" id="includeMode" name="filterType" value="include" checked />
            <label for="includeMode">Include only these domains</label>
          </div>
          <div class="radio-item">
            <input type="radio" id="excludeMode" name="filterType" value="exclude" />
            <label for="excludeMode">Exclude these domains</label>
          </div>
        </div>
      </div>

      <!-- Port Filter -->
      <div class="input-group">
        <label for="ports">Port Filter (comma-separated, e.g. 80,443,8080):</label>
        <input type="text" id="ports" placeholder="Leave empty to skip port filtering" />
      </div>

      <!-- Port Filter Mode -->
      <div class="input-group">
        <label>Port Filter Mode:</label>
        <div class="radio-group">
          <div class="radio-item">
            <input type="radio" id="portIncludeMode" name="portFilterType" value="include" />
            <label for="portIncludeMode">Include only these ports</label>
          </div>
          <div class="radio-item">
            <input type="radio" id="portExcludeMode" name="portFilterType" value="exclude" checked />
            <label for="portExcludeMode">Exclude these ports</label>
          </div>
        </div>
      </div>

      <!-- Action Buttons -->
      <div class="button-group mt-2">
        <button class="btn btn-primary" onclick="filterUrls()">ğŸ” Filter URLs</button>
        <button class="btn btn-primary" onclick="copyResults()">ğŸ“‹ Copy Results</button>
        <button class="btn btn-secondary" onclick="clearAll()">Clear All</button>
      </div>

      <!-- Results Section -->
      <div class="output-section">
        <div class="output-header">
          <span class="output-label">Filtered Results</span>
          <span class="badge badge-success" id="resultCount">0 results</span>
        </div>
        <div id="result" class="output-content empty">No results yet. Click "Filter URLs" to start.</div>
      </div>

      <!-- Error Section -->
      <div id="errorSection" class="alert alert-error mt-2" style="display: none;">
        <span>âš ï¸</span>
        <div style="flex: 1;">
          <strong>Invalid URLs Found:</strong>
          <div id="errorList" style="margin-top: 0.5rem; font-size: 0.85rem; font-family: 'Courier New', monospace;"></div>
        </div>
      </div>
    </section>

    <!-- Quick Actions (opsional, bisa dihapus jika tidak perlu) -->
    <section class="base-card">
      <h2 class="text-secondary mb-3">âš¡ Quick Actions</h2>

      <div class="collapsible active">
        <div class="collapsible-header">
          <span style="font-weight: 600;">ğŸ‡®ğŸ‡© Indonesian Domains</span>
        </div>
        <div class="collapsible-content">
          <p class="text-muted mb-2" style="font-size: 0.85rem;">
            Add common TLDs (note: these are wildcards; use only if needed)
          </p>
          <div class="button-group">
            <button class="btn btn-secondary" onclick="addQuickDomains('co.id')">Add *.co.id</button>
            <button class="btn btn-secondary" onclick="addQuickDomains('ac.id')">Add *.ac.id</button>
            <button class="btn btn-secondary" onclick="addQuickDomains('go.id')">Add *.go.id</button>
            <button class="btn btn-secondary" onclick="addQuickDomains('gov.id')">Add *.gov.id</button>
          </div>
        </div>
      </div>
    </section>
  </div>

  <!-- Status Bar -->
  <div class="status-bar">
    <div class="status-item">
      <div class="status-indicator" id="statusIndicator"></div>
      <span id="statusText">Ready to filter URLs</span>
    </div>
    <div class="status-item">
      <span>Mode: <span id="currentMode">Include</span></span>
    </div>
    <div class="status-item">
      <span>Version: 1.1.0</span>
    </div>
  </div>

  <!-- Scripts -->
  <script src="js/settings.js"></script>
  <script src="js/domain-filter.js"></script>
  <!-- Google tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-0QF9Y2TV2T"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
  
    gtag('config', 'G-0QF9Y2TV2T');
  </script>
</body>
</html>
